"use strict";(self.webpackChunkmatteocaldana=self.webpackChunkmatteocaldana||[]).push([[90],{4903:function(e,t,n){n.d(t,{N:function(){return u}});n(2791);var r=n(4265),o=n(2501),c=n(9e3),a=n(3395),i=n(1330),s=n(184),u=function(){return(0,s.jsxs)(r.D,{children:[(0,s.jsx)(o.S,{color:"info"}),(0,s.jsx)(c.M,{style:{color:"#2196f3"}}),(0,s.jsx)(a.L,{color:"info"}),(0,s.jsx)(i.Zh,{color:"info"})]})}},9090:function(e,t,n){n.r(t);var r=n(9439),o=n(3433),c=n(2791),a=n(4721),i=n(4567),s=n(1153),u=n(7639),l=n(977),f=n(3146),h=n(7961),d=n(1674),j=n(4903),m=n(184),v=function(e,t,n){var c=function(e){for(var t={},n=0,o=Object.entries(e);n<o.length;n++){var c=(0,r.Z)(o[n],2),a=c[0],i=c[1];t[a]=[];for(var s=0,u=Object.entries(i);s<u.length;s++){var l=(0,r.Z)(u[s],2),f=l[0],h=l[1];t[a].push([f,h])}}return t}(e),a=function(e){for(var t={},n=0,o=Object.entries(e);n<o.length;n++){var c=(0,r.Z)(o[n],2),a=c[0],i=c[1];i.sort((function(e,t){return t[1]-e[1]})),t[a]=i.slice(0,20).map((function(e){return e[0]}))}return t}(c),i=n?function(e,t){for(var n=function(){var t=Math.max(2,Math.trunc(.8*Object.keys(e).length)),n=Object.keys(e).flatMap((function(t){return e[t].slice(0,Math.trunc(10))})),o={};n.forEach((function(e){return o[e]=(o[e]||0)+1}));for(var c=0,a=Object.entries(o);c<a.length;c++){var i=(0,r.Z)(a[c],2),s=i[0];if(i[1]>=t||s.length<=2)return s}return""},o=n(),c=0;o;){for(var a=0,i=Object.entries(t);a<i.length;a++){var s=(0,r.Z)(i[a],2),u=s[0],l=s[1];e[u].splice(e[u].indexOf(o),1),20+c<l.length&&e[u].push(l[20+c++][0])}o=n()}return e}(a,c):a,s=(0,o.Z)(new Set(Object.keys(i).flatMap((function(e){return i[e]})))),u=[];return s.forEach((function(n){var r={id:n,word:n};Object.keys(i).forEach((function(t){return r[t]=e[t][n]?e[t][n]:0})),Object.keys(i).forEach((function(e){return r[e]/=t[e]/5})),u.push(r)})),u.sort((function(e,t){return t[""]-e[""]})),u=u.slice(0,100)};t.default=function(e){var t=e.textDf,n=(0,c.useState)(!1),x=(0,r.Z)(n,2),g=x[0],p=x[1],b=function(e){var t={"":{}},n={"":0};return e.forEach((function(e){var r=e.sender;if("plainText"===e.type&&""!==r){r in t||(n[r]=0,t[r]={});var o=e.message.split(/\W/).map((function(e){return e.toLowerCase()})).filter((function(e){return""!==e}));o.forEach((function(e){return t[r][e]=(t[r][e]||0)+1})),o.forEach((function(e){return t[""][e]=(t[""][e]||0)+1})),n[r]+=e.message.length,n[""]+=e.message.length}})),{wordCount:t,totalCharacters:n}}(t),Z=b.wordCount,w=b.totalCharacters,O=v(Z,w,g),y=function(e){var t=Object.keys(e).map((function(e){return{field:e,headerName:""===e?"Total":e,width:100}}));return[{field:"word",headerName:"Word",width:100}].concat((0,o.Z)(t))}(Z);return(0,m.jsxs)(c.Fragment,{children:[(0,m.jsx)(a.Z,{style:{marginTop:10,marginBottom:10}}),(0,m.jsxs)(s.ZP,{container:!0,justifyContent:"space-between",children:[(0,m.jsx)(s.ZP,{item:!0,children:(0,m.jsxs)(s.ZP,{container:!0,children:[(0,m.jsx)(i.Z,{variant:"h6",children:"Most Used Words"}),(0,m.jsx)(u.Z,{title:(0,m.jsxs)("ul",{children:[(0,m.jsx)("li",{children:"Toggle the button to filter out from the table the most used words and leave the one characterizing each sender"}),(0,m.jsx)("li",{children:"The numbers in the table represent the relative frequency of the word for that sender"})]}),children:(0,m.jsx)(l.Z,{size:"small",children:(0,m.jsx)(h.Z,{})})})]})}),(0,m.jsx)(s.ZP,{item:!0,children:(0,m.jsx)(f.Z,{selected:g,size:"small",value:g,onClick:function(){return p((function(e){return!e}))},children:"Filter Out Most Common"})})]}),(0,m.jsx)(d._,{style:{maxHeight:500},rows:O,columns:y,pageSize:O.length,density:"compact",disableSelectionOnClick:!0,components:{Toolbar:j.N}})]})}}}]);
//# sourceMappingURL=90.aabfe0f6.chunk.js.map