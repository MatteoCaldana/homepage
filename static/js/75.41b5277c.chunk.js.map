{"version":3,"file":"static/js/75.41b5277c.chunk.js","mappings":"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","sources":["App/pages/Projects/projects/WaText/components/CumulativeStats.jsx","App/pages/Projects/projects/WaText/components/generic/BasicTabs.jsx","App/pages/Projects/projects/WaText/components/generic/Plot.jsx","../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"],"sourcesContent":["import React from \"react\";\n\nimport Divider from '@mui/material/Divider';\nimport Typography from \"@mui/material/Typography\";\nimport { Grid, IconButton, Tooltip } from \"@mui/material\";\n\nimport HelpIcon from '@mui/icons-material/Help';\n\nimport Plot from './generic/Plot';\nimport * as d3 from \"d3\";\nimport BasicTabs from \"./generic/BasicTabs\";\n\nconst MAX_POINTS = 200;\n\nconst cumsum = (vals) => {\n  const x = vals.map(x => x.timestamp);\n  const y = vals.map(x => x.y).map((sum => value => sum += value)(0));\n  if (x.length <= MAX_POINTS) {\n    return { x, y };\n  }\n  let xFilter = [], yFilter = [];\n  for (let i = 0; i < x.length; i += Math.trunc(x.length / MAX_POINTS) + 1) {\n    xFilter.push(x[i]);\n    yFilter.push(y[i]);\n  }\n  xFilter.push(x[x.length - 1]);\n  yFilter.push(y[x.length - 1]);\n  return { x: xFilter, y: yFilter };\n}\n\nconst plotGenerator = (textDf) => {\n  const groupBySender = d3.group(textDf, x => x.sender);\n  let timestampBySender = [];\n  groupBySender.forEach((val, key) => {\n    if (key !== \"\") {\n      timestampBySender.push({\n        type: 'scatter',\n        ...cumsum(val),\n        mode: 'lines+markers',\n        name: key,\n      })\n    }\n  });\n  return () => {\n    return (\n      <Grid container justifyContent=\"center\">\n        <Plot\n          data={[\n            {\n              type: 'scatter', mode: 'lines+markers',\n              ...cumsum(textDf),\n              name: 'Total'\n            },\n            ...timestampBySender\n          ]}\n        />\n      </Grid>\n    );\n  }\n}\n\nconst CumulativeStats = ({ textDf }) => {\n  return (\n    <React.Fragment>\n      <Divider style={{ marginTop: 10, marginBottom: 10 }} />\n      <Grid container>\n        <Typography variant=\"h6\">\n          Cumulative Stats\n        </Typography>\n        <Tooltip title={<ul><li>Toggle the sender by clicking on the legend on the right</li><li>Some points may have been removed to avoid stressing the CPU</li></ul>}>\n          <IconButton size=\"small\">\n            <HelpIcon />\n          </IconButton>\n        </Tooltip>\n      </Grid>\n      <BasicTabs labels={[\"Number of Messages\", \"Number of Characters\"]}\n        tabs={[\n          { component: plotGenerator(textDf.map(x => ({ timestamp: x.timestamp, sender: x.sender, y: 1 }))) },\n          {\n            component: plotGenerator(textDf.filter(x => x.type === \"plainText\")\n              .map(x => ({ timestamp: x.timestamp, sender: x.sender, y: x.message.length })))\n          },\n        ]}\n      />\n    </React.Fragment>\n  );\n}\n\nexport default CumulativeStats;","import React, { useState } from 'react';\n\nimport Tabs from '@mui/material/Tabs';\nimport Tab from '@mui/material/Tab';\nimport Box from '@mui/material/Box';\n\nconst TabPanel = (props) => {\n  const { children, value, index, ...other } = props;\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {children}\n    </div>\n  );\n}\n\nconst allyProps = (index) => {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\nconst BasicTabs = ({ labels, tabs }) => {\n  const [value, setValue] = useState(0);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n  };\n\n  return (\n    <Box sx={{ width: '100%' }}>\n      <Box sx={{ borderBottom: 1, borderColor: 'divider' }}>\n        <Tabs variant=\"scrollable\" scrollButtons allowScrollButtonsMobile\n          value={value} onChange={handleChange} textColor=\"inherit\"\n        >\n          {labels.map((l, i) => <Tab label={l} key={i} {...allyProps(i)} />)}\n        </Tabs>\n      </Box>\n      {tabs.map((t, i) =>\n        <TabPanel value={value} index={i} key={i}>\n          <t.component />\n        </TabPanel>\n      )}\n    </Box>\n  );\n}\n\nexport default BasicTabs;","import React from \"react\";\n\nimport { useTheme } from \"@mui/system\";\n\nimport Plot from 'react-plotly.js';\n\n// https://stackoverflow.com/questions/27936772/how-to-deep-merge-instead-of-shallow-merge\n/**\n * Simple object check.\n * @param item\n * @returns {boolean}\n */\nexport function isObject(item) {\n  return (item && typeof item === 'object' && !Array.isArray(item));\n}\n\n/**\n * Deep merge two objects.\n * @param target\n * @param ...sources\n */\nexport function mergeDeep(target, ...sources) {\n  if (!sources.length) return target;\n  const source = sources.shift();\n\n  if (isObject(target) && isObject(source)) {\n    for (const key in source) {\n      if (isObject(source[key])) {\n        if (!target[key]) Object.assign(target, { [key]: {} });\n        mergeDeep(target[key], source[key]);\n      } else {\n        Object.assign(target, { [key]: source[key] });\n      }\n    }\n  }\n\n  return mergeDeep(target, ...sources);\n}\n// -----------------------------------------------------------------------------\n\nconst defaultLayout = (theme) => ({\n  width: '100%', height: 500, margin: {\n    l: 40,\n    r: 20,\n    b: 18,\n    t: 30,\n    pad: 0\n  },\n  paper_bgcolor: theme.palette.background.paper,\n  plot_bgcolor: theme.palette.background.paper,\n  xaxis: {\n    color: theme.palette.text.primary,\n  },\n  yaxis: {\n    color: theme.palette.text.primary\n  },\n  legend: {\n    font: {\n      color: theme.palette.text.primary\n    },\n  },\n  title: {\n    font: {\n      color: theme.palette.text.primary,\n    }\n  },\n  scene: {\n    xaxis: {\n      color: theme.palette.text.primary\n    },\n    yaxis: {\n      color: theme.palette.text.primary\n    },\n    zaxis: {\n      color: theme.palette.text.primary\n    },\n  }\n});\n\nconst CustomPlot = (props) => {\n  const theme = useTheme();\n  const layout = defaultLayout(theme);\n  return (\n    <Plot\n      data={props.data}\n      layout={props.layout ? mergeDeep(props.layout, layout) : layout}\n    />\n  );\n}\n\nexport default CustomPlot;","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}"],"names":["cumsum","vals","sum","x","map","timestamp","y","value","length","xFilter","yFilter","i","Math","trunc","push","plotGenerator","textDf","groupBySender","d3","sender","timestampBySender","forEach","val","key","_objectSpread","type","mode","name","_jsx","Grid","container","justifyContent","children","Plot","data","concat","_ref","_jsxs","React","Divider","style","marginTop","marginBottom","Typography","variant","Tooltip","title","IconButton","size","HelpIcon","BasicTabs","labels","tabs","component","filter","message","TabPanel","props","index","other","_objectWithoutProperties","_excluded","role","hidden","id","_useState","useState","_useState2","_slicedToArray","setValue","Box","sx","width","borderBottom","borderColor","Tabs","scrollButtons","allowScrollButtonsMobile","onChange","event","newValue","textColor","l","Tab","label","t","isObject","item","Array","isArray","mergeDeep","target","_len","arguments","sources","_key","source","shift","Object","assign","_defineProperty","apply","layout","theme","height","margin","r","b","pad","paper_bgcolor","palette","background","paper","plot_bgcolor","xaxis","color","text","primary","yaxis","legend","font","scene","zaxis","defaultLayout","useTheme","excluded","getOwnPropertySymbols","sourceSymbolKeys","indexOf","prototype","propertyIsEnumerable","call"],"sourceRoot":""}